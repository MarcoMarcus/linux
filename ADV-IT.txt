		Работа с Терминалом
man – помощь(все им и пользуются)(-k(key_words - ключевое слово), или без него есть знаешь команду)
info – тоже помощь
uptime - время с последнего включения
lscpu – данные процессора
whatis – показывает что делает комманда(но при этом надо знать название команды)
whereis – показывает где файл(системный файл)
locate – показывает где файл(системный файл)
ls - показать что в этой директории( -l -a -R)
ls –la –R / - показать все на компутере
Ctrl+Z - отправить процесс на background
fg - продолжить 
Ctrl+C – прекратить процесс вообще

		Навигация по файлам и директориям
cd - сменить директорию
ls – вывести содержимое директории
pwd – вывести путь где мы сейчас
~ - сокращение нашей Home директории
/ - коренная директория Linux
.. - директория которая выше 
. - директория где мы сейчас


		Работа с Файлами

touch – создать файл или обновить время
cp - скопировать файл(откуда и куда Пример: cp hello.txt ~/Desktop/)+ ещё очень полезно добавлять ключ -v (посмотреть как происходить копирование)
mv – перенести файл или переименовать+сделать его невидемым
rm – стереть файл(где и что Пример: rm Dir2/*) (-R)


		Работа с Директориями и самая опасная комманда Линукса
mkdir – создать директорию(не забывай про ключ -p(parrent)
rmdir – стереть пустую директорию
cp - копировать директорию
mv - переименовать или перенести директорию

rm –R – стереть не пустую директорию со всем что внутри

sudo rm –R / - замочить систему Linux
	

		Создание Линков
Создание символичных линков и дубликатов.(на линк всегда указывай полный путь)

ln - создать дубликат файла (при изминении любого из файлов(оригинала или дубликата) они оба станут одинаковые . - команда роботает только на файлы , не на директории!
ln –s - создать symbolic линк на файл или директорию типа Shortcut(no-cp yes-mv)




		Команды: find, cut, sort, wc, |
find - найти файл(c начала где искать , а после этого что искать Пример: find /home -name "*.txt") + ключ -name
wc - вывести количество строк(-l), слов(-w), байт
cut – вывести определенное поле из текста(1-нужно выбрать розделитель(delimiter . далее выбираем поле которое надо вывести потому как при розделениее строка делится на поля -f , и в конце выбираем файл в котором надо все сделать Пример:cut -d ">" -f 3 filesdata.txt
sort – вывести отсортированный текст(сам файл при этом не миняется , он миняется лишь на экране ) + ключ -n для цыфр.
| -(pipe-или) помогает запускать команду за командой Пример:cut -d ">" -f 3 filesdata.txt | sort - то-есть output который проезведет первая команда (cut) бросить в команду (sort) 




		Комманда grep и Регулярные Выражения
grep - поиск определонного слова в файле и вывод строк с этим словом(что хочу найти и в каком файле Пример:grep linux linux.txt)-пример2 - grep marco /etc/passwd

Регулярные Выражения(суть , делаю pattern - образ которую я ищю , и где :
[A-Z]* - любое слово из больших букв
[0-9]* - сколько угодно подряд стоящих цифр
Когда используешь ругл.вырожения не забывай про ключ -E Пример: grep -E "[A-Za-z_-/.]*gov" mydatfile.txt  Зпомни точку надо задавать таким способом - "/."
Пример или или : grep -E "(kgb.gov|intel.com)" linux.txt

Пример поиска : grep linux ./*(во всех файлах текущей дериктории), но будет находить лишь с маленькой буквы , чтобы игнорировать ограничения используем ключ -i(ignore) - grep -i linux ./*


[A-Za-z]*@[A-Za-z]*.com – простое выражение емайлов с окончанием .com
www\.[a-z]*\.com - любой вэб адресс с окончанием .com





		Перенаправление вывода / ввода
>,>>,2>,2>>,&>,<
sort names.txt - сортировка текста внутри файла по имени
sort names.txt > sort_names.txt - сортировка имен внутри файла и создание 
нового файла с отсортированными именами
sort -n numbers.txt > sort_names.txt - сортирует номера в файле с номерами и 
перезапишет это в файл сорт_нэймс.тхт с удалением имеющейся в конечном файле 
информации.
sort names.txt >> sort_names.txt - добавить текст без уничтожения текста из 
конечного файла.
Если выполнить команду sort names.txt > names.txt , то система сначала создаст 
новый файл names.txt (или пересоздаст его с нулевым объемом), а затем уже 
начнет выполнять с ним какие-то функции. Поэтому данная команда просто 
уничтожит все данные в файле до сортировки.
grep denis /etc/* - выдает все ответы, в каких файлах встречается слово denis в 
подкаталогах каталога etc. 
grep denis /etc/* 2> errors.txt - плохие ответы permission denied и т.д. - 
неправильный поток с ошибками - уходит либо вникуда (если нет файла) либо в 
файл эррорс.тхт
grep denis /etc/* 2> /dev/null - перенаправил плохие ответы вникуда
grep denis /etc/* > good.txt 2> errors.txt - выданные хорошие ответы без ошибок 
будут записаны в файл гуд.тхт, а второсортные (плохие) ответы - в еррорс.тхт
grep denis /etc/* > good.txt - в гуд.тхт сохранятся только хорошие ответы
Если надо сохранить в одном файле и полоие и хорошие, используется команда
grep denis /etc/* &> results.txt - записывает в резалтс.тхт и плохие и хорошие 
ответы﻿

&-and




		Архивирование и Сжатие tar, gzip, bzip2, xz, zip
tar cf mytar.tar Folder1 - заархивировать Folder1(при етом он будет огромного размера так как файл не скомпрессирован)
tar xf mytar.tar - разархивировать архив
gzip / bzip2 / xz – скомпрессировать файл(НЕ ДЕРИКТОРИЮ)+ в процессе добавляет розширение
gunzip / bunzip2 / unxz – раскомпресировать файл

tar cvzf myBZIP2.bz2 Folder1 – сжать Folder1(ключ -v показать что происходит при сжатии)+Важно что команда tar пердусматривает метод комперссии тоже , z , j, J. - при добавлении этих ключей можно одновременно запаковать и сожмать НО не стоит забывать о добавлении розширения .gz .bz .xz
tar xvf myBZIP2.bz2 - распаковать архив(все росспаковуются одинаково)
tar tf myBZIP2.bz2 - посмотреть что внутри архива

zip –r myZIP.zip Folder1 - Запаковать Folder1 в ZIP
unzip myZIP.zip - Распаковать файл myZIP.zip

tar - обьединяет несколько файло в один файл, чтобы легче было скопировать , сохранить , так-же обьединяет директории в один файл




		Процессы и Память
top – как Task Manager в Windows(shift-P -отфлильтровать по процессору shift-M - по ОЗУ)
free - показать состояние памяти в байтах
free –h - показать состояние памяти в MB, GB
ps - показать мои процессы + ключ u(user) - дает все процессы данного пользователя , -a (all) , -x (выдает всех  юзеров , что запущенно ( полный пут)) 
ps aux - показать все процессы от всех пользователей
ps aux | grep marco - найты все процессы user-marco
ps aux | grep bash - найти все процессы bash от всех пользователей

Где хранятся логи ? - cd /var/log
Важный логи-файл который не находится на диске , он не записуется он находится в памяти , тоесть живет пока пк вкл - dmesg - лог линукс-ядра
dmesg | grep sda - инфа по хдд ( полезен для трабл-шутинга системы , когда чтот вывелось из строя) 





		Редактирование Файлов
vi или vim - TOP
pico - новый редактов
nano – самый новый редактор

gedit – как и Notepad в Windows, работает только если есть графический интерфейс




		Типы аккаунтов и важные файлы
sudo - запустить комманду используя Super User права
su - сменить текушего пользователя

/etc/passwd - тут хранятся все аккаунты(те которые я создал и системные акки)
Теперь розбераем : reus:x:1002:1002::/home/reus:/bin/bash
reus - назвиние акка(username)
x - пароль хранится в другом файле 
1002 - user id (номер юзера для линукса )
1002 - group id (на каждого юзера создается его группа , для изминения привелегий 
:пустое место: - comments (имя пользователя )
/home/reus - путь домашней дериктории 
/bin/bash - по умлолч. командная оболочка 



/etc/shadow - тут хранятся все пароли аккаунтов
Розбор: marco:$1$yYbOwCcu$UErK6hQRVP.6DzG8LVmmp0:17490:0:99999:7:::
marco - имя пользователя 
$1$yYbOwCcu$UErK6hQRVP.6DzG8LVmmp0 - хэш пароля
17490 - сколько дней прошло с начала 1.1.1970
0 - когда можно менять пароль в след раз , в мое случае хоть сейчас 
99999 - когда нужно поменять пароль
7 - message , через сколько дней поменять пароль 
::: - сколько дней просрочено измена пароля а дальше хз


/etc/group - тут хранятся все группы и кто в них находится 
интересна группа судо, тоесть кто может пользоватся правами админа 

whoami - показать имя текущего пользователя
id - показать к каким группам принадлежит пользователь
посмотреть id другого пользователя -  id reus
who – показать кто сейчас в системе
w - показать кто сейчас в системе и что делает
last – показать последние логины(кто в ходил в систему)





		Пользователи и Группы
Пользователя может создать лишь тот у кого есть права админа 
useradd -m vasya - создать юзера vasya с домашней директорией(за домашнюю дерикторию отвечает ключ -m) где vasya - это login-name , но сделать логин(зайти в систему данный пользователь не может так как нету пароля
userdel –r vasya - стереть юзера vasya с его домашней директорией
userdel vasya - стереть самого пользователя , но не стерать дерикторию 
/etc/skel - это шаблон домашней директории,то-есть когда я создаю юзера у юзера создается домашняя дериктория и в неё копируется файлы дериктории с данного шаблона 
passwd vasya - изменить пароль для юзера vasya

groupadd Programmers - создать группу Programmers
groupdel Programmers - стереть группу Programmers

usermod –aG(add group) Programmers vasya - добавить юзера vasya в группу Programmers
deluser vasya Programmers - удалить юзера vasya из групы Programmers




		Права Доступа и владения файлами и директориям
Права доступа

-(---)(---)(---) 1 denis denis  0 nov 22 22:00 denis.txt

1) - файл d директория l - линк

2) - юзер
3) - группа
4) - все остальные

на файле

r - права на чтение файлов read
w - права на запись и изменение файлов wright
x - права на исполнение файлов execute(используется в скриптах , что-б можно было запустить прогу)

на директории

r - только посмотреть директорию
w - создавать, изменять и удалять файлы
x - можно не только посмотреть, но и зайти в директорию

1 - сколько линков есть на файл
denis - юзер
denis - группа
0 - байт
дата и время последнего изменения
наименование файла
---------------------------------------------------------
chown – изменить владельца файла(owner-ship) / директории (Пример: sudo chown user2 zzz/)
chgrp – изменить группу файла / директории(Пример: sudo chgrp Programming vasya.txt)
---------------------------------------------------------
Как изменить permisions c помощью букв ? 
сhmod – изменить права доступа на файл / директорию
chmod o+x myfile.txt - добавить для other всех остальных права х.
для вдалельца директории без sudo
chmod g-w,o+w denis.txt 
chmod g-w myfile.txt - убрать у файла права на чтение для его группы
chmod ugo=x myfile.txt довавить X всем(только х , остальные значения затираюься)
Сокращение ugo , это а 
сhmod g-rw myfile.txt убрать RW у группы
chmod o+rw myfile.txt установить RW всем остальным
u = user
g = group
o = other
a = ugo


Как изменить permisions c помощью цыфр ? 
Когда я изспользую chmode , с цыфрами надо добаить всем сразу привелегии(указать 3 цыфры),тоесть минус в том что нельзя добавить привелегию , надо заново её задать
chmod 777 myfile.txt установить RWX всем
chmod 741 myfile.txt установить: RWX владельцу, R - - группе, - - X всем остальным
r = 4
w = 2
x = 1
---------------------------------------------------------
StickyBit
sudo chmod o+t mydir - удалять из каталога файлы может только владелец(но если ты хочешь удалить , то можно это сделать только с помощью рута 
sudo chmod o-t mydir - удалять из каталога файлы может любой﻿

А как это делать цыфрами ? 
chmod 1777 myDir включить StickyBit
chmod 0777 myDir выключить StickyBit




		Сетевые комманды
ifconfig - показать мой IP адресс(Выводит на экран 2 сетевых устройтсва(сетевая карта и lo(lookback)- мой комп если к нему обратится через сеть , в нем адресс по дефолту 127.0.0.1  
ip addr show - показать мой IP адресс(тоже самое что и ifconfig)

route - показать адресс раутера Gateway-шлюз(куда пересылать пакеты с разными адресами(Например , если у мня адресса в дипазоне 192.168.38.0 , и маска такая 255.255.255.0 , то переселать на этот адаптер - ens33 ) Самое итересное тут это шлюз(Gateway) - 192.168.38.2 - это ip моего роутера , через который пересылается патек в следюйщие сети : в интернет ... 
ping - протестировать коннекшен к адрессу(Пример ping -c(count) 4 8.8.8.8 - протестит google.com 4 раза 
чтобы пропрыгать весь маршрут по узлам нужно ввести команду -  traceroute (traceroute google.com)
host - дать IP адресс вэб сайта
dig - дать IP адресс вэб сайта
netstat – выдать сетевые подключения компьютера


Как подключится через ssh к другому линукс серверу ? - ssh ubuntu(hostname) , но перед этим надо открыть порт (К примеру 22 ) .
Как отрыть порт ? - sudo ufw allow 22. Но и так не зароботает 
Надо установить ssh-server , не установлет , что-бы конектытся не установлен
Как установить ? - apt-get install openssh-server - помогает конектится с моего линукса, куда угодно , на другие линуксы 
ssh - security shell conection - команда подключения к удаленным серверам



		Скачивание и Установка программ
wget - скачать файл из интернета(web-get) - четкое название источника - Роботает для любого линуха

Ubuntu/Debian/Kali/Mint Linux:
~~~~~~~~~~~~~~~~~~~~
apt-get install - скачать и установить программу котрая находится на repository site 
Откуда линукс ищет файлы для установки ? - cat /ect/apt/sources.list
apt-get remove - удалить программу
Как установить прогу локально ? - надо для начала скачать файл packetg c окончание .deb , после етого можно делать то что написано с низу ) 
dpkg –i - установить программу из файла .deb
dpkg –r - удалить программу

RedHat/CenOS Linux:
~~~~~~~~~~~~~
yum install - скачать и установить программу
yum remove - удалить программу
rpm –i - установить программу из файла .rpm
rpm –e - удалить программу 



		Скрипты Linux Bash, Часть-1
Первая строчка скрипта всгда имеет вид #!/bin/bash - указывает какого вида скрипт .
Для того что-бы запустить скрипт , нужно дать привелегию  - x(exicute), но впирнцыпе можно обойтись без етого , но будет ошибка - permision denied, но и это ещё не все , можно добавить в начало bash(наш компилятор) и тогда все зароботает)

Как создаются переменные и присваюются им значения ? 
./myscript.sh Vasya Petya Kolya - запускает скрипт

$0 при этом равен ./myscript.sh - тоесть данная переменная ровна названию скрипта в котором выполняется 
$1 при этом равен Vasya ( Я передаю параметр таким образом - ./myscript.sh Vasya Kolya ( они в свою очередь и равны $1 and $2)
$2 при этом равен Petya
$3 при этом равен Kolya

myOS=`uname –u` - запускает uname –u и сохраняет результат в переменную myOS

Сохранить ввод пользователя в переменную name:
read –p “Please enter your name: “ name



		Начинающих - Скрипты Linux Bash, Часть-2
Использование связки
IF-ELIF-ELSE-FI

Использование CASE

Циклы FOR с коммандой Linux
Циклы FOR с цифровым промежутке
Циклы FOR как в С, C++, Java
Циклы WHILE
Функции

Мои дополнения:
Если я хочу запустить скрипт вместе с параметрами переселаемый с командной строки и хочу их проверять (Пример: если прописать Вася то в ответь получит привет



		1.Linux для Не Начинающих - Добавление второго диска
/dev/sda - первый SATA диск
/dev/sdb - второй SATA диск
/dev/sdc - третий SATA диск

fdisk –l - показать какие есть диски
lsblk - показать какие есть диски
cfdisk /dev/sdb - редактировать разделы sdb диска
mkfs.ntfs –f /dev/sdb1 - форматировать раздел первый второго диска
/etc/fstab - тут прописываем новые диски чтобы они присоединялись автоматически при загрузки Линукса

mount /media/hdd2 - присоединяет диск прописанный в файле fstab с именем hdd2 без перезагрузки Линукса


		2.Linux для Не Начинающих - Изменение имени компа и IP на постоянный
hostname - вывести название компа
sudo hostname MyLinux - переименовать в MyLinux
/etc/hostname - тут прописано название компа
/etc/hosts - тут прописываем новое название напротив IP адресса
ifconfig - вывести текущий IP адресс

Временно меняем IP адресс так:
sudo ifconfig eth0 10.10.10.10 netmask 255.0.0.0

/etc/network/interfaces - тут прописываем постоянный IP
sudo ifdown eth0 - отключить сетевуху eth0
sudo ifup eth0 - включить сетевуху eth0



		3.Linux для Не Начинающих - SSH подключение к удаленному Linux
service ssh status - статус SSH сервиса
service ssh start - запустить SSH сервис
apt-get install openssh-server - установить SSH

ssh vasya@192.168.10.130 - подключится к компу (192.168.10.130) как пользователь (vasya)

ssh - все процедура деляется на всех линуксах одинаково , на UNIX тоже 
Чтобы с одного линукса зайти на другой , они должны друг-друга видеть , тоесть принг должен роботать - ping 192.168.38.133
Комнанда которая позволяет делать логин на другой линукс сервер называется - ssh, НО по умолчанию когда я пытаюсь подключится (ssh и название компа(ip-adress)) -  , мы то сконектимся НО огрызается порт 22 , и дилема заключатся в том что ssh роботает только через 22 порт 
Что нужно сделать , надо активировать ssh или открыть этот 22 порт - смотри ввыше

Сменить номер порта можно вручную:

1. зайди в файл: /etc/ssh/sshd_config
2. найди строчку :  # Port 22
3. убери решетку и напиши свой номер порта для ssh
4. потом перезапусти сервис:  service sshd restart

Подключаются через ssh с указанием порта делается так, например порт 26:
ssh user@192.168.1.1 -p 26﻿



		4.Linux для Не Начинающих - Выполнение по расписанию - crontab
crontab - l - показать расписание
crontab -e - редактировать расписание
/etc/crontab - файл расписания на системном уровне(запускается только рутом) 


Как запускать каждые 2 минуты задачу ? - */2(*/3.4.5.6.10...)
Где сохраняется крон - sudo cat/var/spool/cron/crontabs/marco
Где крон хранит свои логи ? - sudo cat /var/log/syslog | grep CRON
